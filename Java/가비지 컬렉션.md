# 가비지 컬렉션
**Garbage Collection(가비지 컬렉션)**  
프로그램을 개발 하다 보면 유효하지 않은 메모리인 가비지(Garbage)가 발생하게 된다.  
C언어를 이용하면 free()라는 함수를 통해 직접 메모리를 해제해주어야 한다. 하지만 Java나 Kotlin을 이용해 개발을 하다 보면 개발자가 메모리를 직접 해제해주는 일이 없다.  
그 이유는 JVM의 가비지 컬렉터가 불필요한 메모리를 알아서 정리해주기 때문이다. 


## 기본 개념
>Mark  

더이상 오브젝트가 참조를 가지고 있는지 아닌지 체크해놓는것.
>Sweep  

필요없는 오브젝트를 heap에서 날리는 것.
>Compact

???
>Young Generation(Eden,S0,S1)  
>Old Generation  

최초에 오브젝트가 생기면 에덴영역에 만들어졌다가 Eden영역이 꽉차게 되면그때 에러가난다.  
더이상 오브젝트를 만들 수가없으니까.  
실제 우리가 보는 에러는아니고 GC상으로 메모리를 더이상 할당할 수없는 에러가난다.그때 GC가 일어난다.  
그래서 이걸 S1에 다 부어요.그러면서 필요없는 오브젝트를 정리하는거다.  
그러다가 어느정도 오브젝트가 또 Eden에 차면 s1에있는걸 s0로 옮긴다.(순서는 중요하지않다.s0부터 채울수도 있다.)   
두가지 통에다가 계속 따라담는거다.한쪽으로 다 옮기면서 필요없는 오브젝트를 날리다가 어느정도 계속해서 몇번동안 오랫동안 살아남으면 그 오브젝트는 오랫동안 살아남아야하나보다 해서 Old Generation으로 옮긴다.
>Minor GC  
>Full GC

**minor GC** - Young Generation 에 일어나는 GC  
**Full GC** - Young Generation 과 Old Generation 같이 GC(대규모 청소 작업)

>**Full GC매커니즘**   
>Serial  
>Parallel(자바8)  
>CMS(자바13인가14부터 아예없어짐)  
>G1(자바11)  
>ZGC  
>Shenandoah
### 한번쓰고 버려져서 곧바로 가비지컬렉션의 대상이된다.(이펙티브자바)
객체의 참조는 매서드가 끝나면 어느곳에서도 이 오브젝트를 참조하지않는다.